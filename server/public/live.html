<!doctype html>

<html>
<head>
   <meta charset="UTF-8">
   <title>QPlan Live</title>
   <script src="./js/jquery.min.js"></script>
   <script src="./js/d3.v3.min.js"></script>
   <script src="./js/live.js"></script>
</head>

<body>
   <div id='output'>
      <pre id='raw_output'></pre>
   </div>

      <script>
         window.onload = function() {
            websocket = new WebSocket("ws://" + document.location.hostname + ":8888");
            websocket.onopen = function(event) {
               console.log("Open!");
            };
            websocket.onclose = function(event) {
               console.log("Close!");
            };
            websocket.onmessage = function(event) {
               var data = JSON.parse(event.data);
               Live.render_data(data);
            };
            websocket.onerror = function(event) {
               console.log("Ugh.");
               console.dir(event);
            }
         }

      </script>
</body>

</html>
